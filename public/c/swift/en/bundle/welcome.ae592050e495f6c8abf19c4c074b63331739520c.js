define("app/data/welcome/invitations_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function invitationsScribe(){this.scribeInviteLinkClick=function(a,b){this.scribe({component:"invite_contacts_link",action:"click"})},this.scribeInviteDialogOpen=function(a,b){this.scribe({component:"invite_contacts_dialog",action:"open"})},this.after("initialize",function(){this.on("uiWelcomeInviteLinkClicked",this.scribeInviteLinkClick),this.on("uiWelcomeShowInviting",this.scribeInviteDialogOpen)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(invitationsScribe,withScribe)
});
define("app/data/welcome/welcome_cards_scribe",["module","require","exports","core/component","core/utils","app/data/with_scribe"],function(module, require, exports) {
function welcomeCardsScribe(){this.scribeSearch=function(a,b){this.scribe({component:"user_search_form",action:"search"},{context:this.attr.sectionCategoryName,query:b.query})},this.scribeMoreResults=function(a,b){if(b.automatic)return;this.scribe({component:b.componentName,element:"load_more",action:"click"},utils.merge({context:this.attr.sectionCategoryName},b.scribeData||{}))},this.scribeDismiss=function(a,b){this.scribe({component:b.componentName,action:"dismiss"},utils.merge({context:this.attr.sectionCategoryName},b.scribeData||{}))},this.scribeSearchFocus=function(a,b){this.scribe({component:b.component,action:"click"},{query:b.placeholder,context:this.attr.sectionCategoryName})},this.after("initialize",function(){this.on("uiWelcomeUserSearch",this.scribeSearch),this.on("uiWantsWelcomeMoreResults",this.scribeMoreResults),this.on("uiWelcomeCardRemoved",this.scribeDismiss),this.on("uiWelcomeFocusedSearch",this.scribeSearchFocus)})}var defineComponent=require("core/component"),utils=require("core/utils"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(welcomeCardsScribe,withScribe)
});
define("app/data/welcome/flow_nav_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function flowNavScribe(){this.progressSectionName=function(){return this.attr.progressSectionName||this.attr.sectionName},this.scribeNavComplete=function(a,b){this.scribe({section:this.progressSectionName(),action:"complete"},{context:this.attr.sectionCategoryName}),this.scribe({section:this.progressSectionName(),component:"progress",action:"done"},{context:this.attr.sectionCategoryName}),b&&b.finished&&this.scribe({section:"finished",action:"impression"},{context:this.attr.sectionCategoryName})},this.scribeNavSkip=function(a,b){this.scribe({section:this.progressSectionName(),action:"complete"},{context:this.attr.sectionCategoryName}),this.scribe({section:this.progressSectionName(),component:"progress",action:"skip"},{context:this.attr.sectionCategoryName}),b&&b.finished&&this.scribe({section:"finished",action:"impression"},{context:this.attr.sectionCategoryName})},this.scribeNavPrev=function(a,b){this.attr.sectionName=="category"&&this.scribeNavComplete(a,b)},this.after("initialize",function(){this.on("uiWelcomeNavNextClicked",this.scribeNavComplete),this.on("uiWelcomeNavSkipClicked",this.scribeNavSkip),this.on("uiWelcomeNavPrevClicked",this.scribeNavPrev)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(flowNavScribe,withScribe)
});
define("app/data/welcome/preview_stream",["module","require","exports","core/component","app/data/with_data"],function(module, require, exports) {
function previewStreamData(){this.previewTweet=function(a,b){this.get({url:"/welcome/preview/tweet",data:{userId:b.userId},eventData:b,success:"dataWelcomePreviewTweetSuccess",error:"dataWelcomePreviewTweetFailure"})},this.previewTweets=function(a,b){this.get({url:"/welcome/preview/tweets",data:{tweetIds:b.tweetIds},eventData:b,success:"dataWelcomePreviewTweetsSuccess",error:"dataWelcomePreviewTweetsFailure"})},this.after("initialize",function(){this.on("uiWantsWelcomePreviewTweetForUser",this.previewTweet),this.on("uiWantsWelcomePreviewTweets",this.previewTweets)})}var defineComponent=require("core/component"),withData=require("app/data/with_data");module.exports=defineComponent(previewStreamData,withData)
});
define("app/ui/welcome/invite_dialog",["module","require","exports","core/component","app/ui/with_position","app/ui/with_dialog","app/ui/who_to_follow/with_unmatched_contacts"],function(module, require, exports) {
function inviteDialog(){this.defaultAttrs({noThanksButtonSelector:".btn.js-close",loadingSelector:".loading",contentsSelector:".contents",errorSelector:".error-message",retrySelector:".js-retry",inviteContactsComponent:"invite_contacts_dialog"}),this.showContacts=function(a,b){this.select("loadingSelector").show(),this.select("contentsSelector").empty(),this.select("errorSelector").hide(),this.trigger("uiWantsUnmatchedContacts"),this.successPath=b&&b.successPath,this.select("noThanksButtonSelector").toggleClass("hidden",!this.successPath),this.open()},this.fillContacts=function(a,b){this.select("loadingSelector").hide(),this.select("contentsSelector").html(b.html).find(".contacts").scrollTop(0),this.position(),this.select("actionButtonSelector").attr("disabled",!1),this.trigger(this.$dialog,"uiDialogContentChanged")},this.showError=function(a,b){this.select("loadingSelector").hide(),this.select("errorSelector").show()},this.retry=function(a,b){a.preventDefault(),this.showContacts()},this.after("initialize",function(){this.after("close",function(){this.successPath&&(window.location.href=this.successPath)}),this.on("click",{retrySelector:this.retry}),this.on(document,"uiWelcomeShowInviting",this.showContacts),this.on(document,"dataUnmatchedContactsSuccess",this.fillContacts),this.on(document,"dataUnmatchedContactsFailure",this.showError),this.on(document,"uiInviteFinished",this.close)})}var defineComponent=require("core/component"),withPosition=require("app/ui/with_position"),withDialog=require("app/ui/with_dialog"),withUnmatchedContacts=require("app/ui/who_to_follow/with_unmatched_contacts");module.exports=defineComponent(inviteDialog,withDialog,withPosition,withUnmatchedContacts)
});
define("app/ui/welcome/with_nav_buttons",["module","require","exports"],function(module, require, exports) {
function withNavButtons(){this.defaultAttrs({buttonSelector:".btn",prevButtonSelector:".js-prev-btn",nextButtonSelector:".js-next-btn"}),this.didClickButton=function(a,b){var c=$(a.target);c.attr("aria-disabled")?(a.preventDefault(),a.stopImmediatePropagation()):c.is(this.attr.prevButtonSelector)?this.trigger("uiWelcomeNavPrevClicked"):c.is(this.attr.nextButtonSelector)&&this.trigger("uiWelcomeNavNextClicked",{finished:c.data("finished")})},this.setPrevButton=function(a,b){this.setButton(this.select("prevButtonSelector"),b)},this.setNextButton=function(a,b){this.setButton(this.select("nextButtonSelector"),b)},this.setButton=function(a,b){b.href!==undefined&&a.attr("href",b.href),b.primary!==undefined&&a.toggleClass("primary-btn",b.primary),b.enabled!==undefined&&a.attr("aria-disabled",!b.enabled)},this.after("initialize",function(){this.on(document,"uiSetWelcomePrevButton",this.setPrevButton),this.on(document,"uiSetWelcomeNextButton",this.setNextButton),this.on("click",{buttonSelector:this.didClickButton})})}module.exports=withNavButtons
});
define("app/ui/welcome/header_progress",["module","require","exports","core/component","core/i18n","app/utils/storage/core","app/ui/welcome/with_nav_buttons"],function(module, require, exports) {
function headerProgress(){this.defaultAttrs({progressValueSelector:".ui-progressbar-value",progressLabelSelector:".js-progress-label",skipLinkSelector:".js-skip-link",progressKey:null,progressMax:5,progressActualMax:3,zeroProgressLabel:_('Start by following 5.'),hideSkipOnNext:!1,maxProgressLabel:_('Great!')}),this.updateProgressBar=function(a){a=a||this.storage.getItem(this.attr.progressKey)||0;if(!this.attr.totalContacts){var b=$(".js-action-follow-all")[0];b&&(this.attr.totalContacts=parseInt(b.getAttribute("data-follow-all-count")),this.attr.totalContacts<5&&(this.attr.zeroProgressLabel=this.attr.maxProgressLabel,this.attr.progressMax=0,this.attr.progressActualMax=0))}var c;a==0?c=this.attr.zeroProgressLabel:a<this.attr.progressMax?c=_('Follow {{num}} more!',{num:this.attr.progressMax-a}):c=this.attr.maxProgressLabel,a>=this.attr.progressActualMax&&this.showNextButton();var d=Math.floor(Math.min(a/this.attr.progressMax*100,100))+"%";this.select("progressValueSelector").css("width",d).fadeIn(),this.select("progressLabelSelector").fadeIn().text(c)},this.showNextButton=function(){this.select("nextButtonSelector").fadeIn(),this.attr.hideSkipOnNext&&this.select("skipLinkSelector").fadeOut()},this.updateFollowingCount=function(a,b){var c=this.storage.getItem(this.attr.progressKey)||0;b.newState=="following"||b.newState=="pending"?c++:b.newState=="not-following"&&c--,this.storage.setItem(this.attr.progressKey,Math.max(c,0)),this.updateProgressBar()},this.makeProgress=function(a,b){var c=this.storage.getItem(this.attr.progressKey)||0;b&&!b.noPersist&&this.storage.setItem(this.attr.progressKey,c+1),this.updateProgressBar(c+1)},this.after("initialize",function(){this.storage=new Storage("HeaderProgress"),this.attr.sectionName=="intro"&&this.storage.clear();if(this.$node.is(".welcome-step-progress-header")||this.$node.find(".progress-half").length)this.on(document,"uiSwiftLoaded uiPageChanged",function(){this.updateProgressBar()}),this.on(document,"dataFollowStateChange dataBulkFollowStateChange",this.updateFollowingCount),this.on(document,"uiMadeProgress",this.makeProgress),this.on(document,"uiForceWelcomeNextButton",this.showNextButton)})}var defineComponent=require("core/component"),_=require("core/i18n"),Storage=require("app/utils/storage/core"),withNavButtons=require("app/ui/welcome/with_nav_buttons");module.exports=defineComponent(headerProgress,withNavButtons)
});
define("app/ui/welcome/internal_link_disabler",["module","require","exports","core/component"],function(module, require, exports) {
function internalLinkDisabler(){this.defaultAttrs({detailsLinkSelector:".js-details",noFollowSelector:'a[rel="nofollow"]'}),this.preventClick=function(a){a.preventDefault()},this.preventUiNavigate=function(a){a.stopPropagation()},this.openInNewWindow=function(a){a.preventDefault();var b=$(a.target).closest("[href]"),c=b.attr("href");!b.is(".tweet-url, .twitter-hashtag, .twitter-atreply")&&c&&window.open(c)},this.after("initialize",function(){this.$node.addClass("no-internal-links"),this.on("uiNavigate",this.preventUiNavigate),this.on("click",{detailsLinkSelector:this.preventClick,noFollowSelector:this.openInNewWindow})})}var defineComponent=require("core/component");module.exports=defineComponent(internalLinkDisabler)
});
define("app/ui/welcome/learn_dashboard",["module","require","exports","core/component","app/utils/storage/core","app/ui/who_to_follow/with_list_resizing","app/ui/who_to_follow/with_unmatched_contacts","app/ui/expando/with_expanding_containers","app/data/ddg"],function(module, require, exports) {
function learnDashboard(){this.defaultAttrs({deviceFollowIds:[],deviceEnabled:!1,maybeDeviceEnabled:!1,streamItemSelector:".js-stream-item",followAllListedSelector:".js-action-follow-all-listed",followAllSelector:".js-action-follow-all",inviteContactsSelector:".invite-contacts",searchFormSelector:".js-who-to-follow-search",searchSubmitSelector:".js-who-to-follow-search .js-submit",zipcodeSearchSubmitSelector:".js-zipcode-search .js-submit",skipLinkSelector:".js-skip-link",interestLinkSelector:".js-stream-item .interest-category a",retrySelector:"a.retry-button",streamSelector:".welcome-dashboard-content"}),this.submitSearchAsUiNavigate=function(a,b){a.preventDefault();var c=this.select("searchFormSelector"),d=c.find('input[type="text"]').val();this.trigger("uiWelcomeUserSearch",{query:d});var e=c.attr("action")+"?q="+encodeURIComponent(d);this.trigger("uiNavigate",{href:e})},this.submitZipcodeSearchAsUiNavigate=function(a,b){a.preventDefault();var c=this.select("zipcodeSearchFormSelector"),d=c.find('input[type="text"]').val();this.trigger("uiWelcomeZipcodeSearch",{query:d});var e=c.attr("action")+"?q="+encodeURIComponent(d);this.trigger("uiNavigate",{href:e})},this.followAllListed=function(a,b){var c=this;this.select("streamItemSelector").each(function(){c.trigger("uiFollowAction",{userId:$(this).attr("data-item-id")})})},this.followAll=function(a,b){this.trigger("uiContactImportFollow",{})},this.inviteContacts=function(a,b){a&&a.preventDefault(),this.storage.setItem("popInvites",!1),this.trigger("uiWelcomeShowInviting")},this.skipClicked=function(a,b){this.trigger("uiWelcomeNavSkipClicked",{finished:this.select("skipLinkSelector").data("finished")})},this.maybeEnableNextButton=function(a,b){b.error&&this.trigger("uiForceWelcomeNextButton")},this.maybeDeviceNotificationOn=function(a,b){(this.attr.deviceEnabled||this.attr.maybeDeviceEnabled)&&this.attr.deviceFollowIds.indexOf(b["userId"])!=-1&&this.trigger("uiDeviceNotificationsOnAction",{userId:b.userId})},this.maybeDeviceNotificationOnAfterDialog=function(a,b){if(a.target.id=="welcome-lifeline-device-follow-dialog"){this.attr.maybeDeviceEnabled=!0;var c=this.select("streamItemSelector");for(var d=0;d<this.attr.deviceFollowIds.length;d++){var e=this.attr.deviceFollowIds[d];c.find(".user-actions.btn-group.following[data-user-id='"+e+"']").length&&(c.find(".user-actions.btn-group.following.notifying[data-user-id='"+e+"']").length||this.trigger("uiDeviceNotificationsOnAction",{userId:e}))}}},this.showWelcomeInterest=function(a){var b=$(a.target).closest(".js-stream-item");this.trigger("uiShowWelcomeInterest",{interest:b.attr("data-item-id"),pos:b.index()})},this.collapseAll=function(){var a=this;this.select("streamItemSelector").each(function(){a.exitDetachedState($(this),!1)})},this.toggleCategoryExpand=function(a,b){a.stopPropagation(),a.preventDefault(),this.showWelcomeInterest(a);var c=$(a.target).closest(this.attr.streamItemSelector);if(c.hasClass(this.attr.openClass))this.exitDetachedState(c,!1);else{this.collapseAll();var d=c.data("item-id"),e=c.children(".dropdown-content");e.hasClass("loaded")||this.trigger("uiNeedsSulCategoryData",{slug:d}),this.enterDetachedState(c,!1),$(a.target).closest(this.attr.streamSelector).scrollTop(c.position().top)}},this.insertSulCategoryData=function(a,b){var c=$("#stream-item-suggestion-category-"+b.slug+" .dropdown-content");c.html(b.items_html),c.removeClass("failed"),c.addClass("loaded")},this.sulCategoryFailure=function(a,b){var c=$("#stream-item-suggestion-category-"+b.slug+" .dropdown-content");c.addClass("failed")},this.after("initialize",function(){var a=this.select("streamSelector").hasClass("with-dropdown");this.storage=new Storage("LearnDashboard"),this.on("uiTypeaheadItemSelected",this.submitSearchAsUiNavigate),this.on(document,"uiSwiftLoaded uiPageChanged",function(){this.storage.getItem("popInvites")&&this.attr.shouldInvite&&this.inviteContacts(),this.storage.setItem("popInvites",this.attr.canInvite||!1)}),this.on("submit",{searchFormSelector:this.submitSearchAsUiNavigate}),this.on(document,"dataContactImportStatusSuccess",this.maybeEnableNextButton),this.on(document,"uiFollowAction",this.maybeDeviceNotificationOn),this.on(document,"uiDialogClosed",this.maybeDeviceNotificationOnAfterDialog),this.on("click",{followAllListedSelector:this.followAllListed,followAllSelector:this.followAll,inviteContactsSelector:this.inviteContacts,searchSubmitSelector:this.submitSearchAsUiNavigate,zipcodeSearchSubmitSelector:this.submitZipcodeSearchAsUiNavigate,skipLinkSelector:this.skipClicked}),this.attr.marginBreaking=!1,a?(this.on("click",{streamItemSelector:this.toggleCategoryExpand,retrySelector:this.toggleCategoryExpand}),this.on(document,"dataSulCategorySuccess",this.insertSulCategoryData),this.on(document,"dataSulCategoryError",this.sulCategoryFailure)):this.on("click",{interestLinkSelector:this.showWelcomeInterest})})}var defineComponent=require("core/component"),Storage=require("app/utils/storage/core"),withListResizing=require("app/ui/who_to_follow/with_list_resizing"),withUnmatchedContacts=require("app/ui/who_to_follow/with_unmatched_contacts"),withExpandingContainers=require("app/ui/expando/with_expanding_containers"),DDG=require("app/data/ddg");module.exports=defineComponent(learnDashboard,withListResizing,withUnmatchedContacts,withExpandingContainers)
});
define("app/ui/welcome/learn_preview_timeline",["module","require","exports","core/component","app/utils/storage/core"],function(module, require, exports) {
function learnPreviewTimeline(){this.defaultAttrs({helpSelector:".example-tweet-info",teacherSelector:".js-intro-tweet",tweetContainerSelector:".js-tweet-preview-container"}),this.followStateChanged=function(a,b){var c=this.$node.find('.tweet[data-user-id="'+b.userId+'"]');if(b.new_state=="following"&&c.length===0)this.trigger("uiWantsWelcomePreviewTweetForUser",{userId:b.userId});else if(b.new_state=="not-following"){var d=this;c.each(function(){d.removePreviewTweet($(this))})}},this.addPreviewTweet=function(a,b){if(b.html=="")return;var c=this.storage.getItem("tweetIdStrs")||[];c.unshift(b.tweet_id_str),this.storage.setItem("tweetIdStrs",c);var d=$(b.html);d.hide().prependTo(this.attr.tweetContainerSelector).slideDown()},this.addPreviewTweets=function(a,b){if(b.html=="")return;var c=$(b.html);c.hide(),this.select("tweetContainerSelector").prepend(c),c.each(function(){var a=$(this);a.is("div")&&a.fadeIn()})},this.removePreviewTweet=function(a){var b=a.attr("data-tweet-id"),c=this.storage.getItem("tweetIdStrs")||[];c=c.filter(function(a){a!=b}),this.storage.setItem("tweetIdStrs",c),a.slideUp(function(){$(this).remove()})},this.restorePreviewTweets=function(){this.attr.sectionName=="intro"&&this.storage.clear();var a=this.storage.getItem("tweetIdStrs");if(a==null||a.length==0)return;this.trigger("uiWantsWelcomePreviewTweets",{tweetIds:a})},this.after("initialize",function(){this.on(document,"dataFollowStateChange",this.followStateChanged),this.on(document,"dataWelcomePreviewTweetSuccess",this.addPreviewTweet),this.on(document,"dataWelcomePreviewTweetsSuccess",this.addPreviewTweets),this.select("helpSelector")[this.attr.showIntroText?"slideDown":"slideUp"](),this.select("teacherSelector")[this.attr.showTeacherTweet?"slideDown":"slideUp"](),this.storage=new Storage("LearnPreviewTimeline"),this.on(document,"uiSwiftLoaded",this.restorePreviewTweets)})}var defineComponent=require("core/component"),Storage=require("app/utils/storage/core");module.exports=defineComponent(learnPreviewTimeline)
});
define("app/boot/welcome",["module","require","exports","app/boot/app","app/boot/user_timeline","app/data/contact_import","app/data/contact_import_scribe","app/data/welcome/invitations_scribe","app/data/welcome/welcome_cards_scribe","app/data/welcome/flow_nav_scribe","app/data/welcome/preview_stream","app/ui/infinite_scroll_watcher","app/ui/forms/input_with_placeholder","app/ui/welcome/invite_dialog","app/ui/welcome/header_progress","app/ui/welcome/internal_link_disabler","app/ui/welcome/learn_dashboard","core/utils","app/ui/welcome/learn_preview_timeline"],function(module, require, exports) {
var bootApp=require("app/boot/app"),userTimelineBoot=require("app/boot/user_timeline"),ContactImportData=require("app/data/contact_import"),ContactImportScribe=require("app/data/contact_import_scribe"),InvitationsScribe=require("app/data/welcome/invitations_scribe"),WelcomeCardsScribe=require("app/data/welcome/welcome_cards_scribe"),FlowNavScribe=require("app/data/welcome/flow_nav_scribe"),PreviewStreamData=require("app/data/welcome/preview_stream"),InfiniteScrollWatcher=require("app/ui/infinite_scroll_watcher"),InputWithPlaceholder=require("app/ui/forms/input_with_placeholder"),InviteDialog=require("app/ui/welcome/invite_dialog"),HeaderProgress=require("app/ui/welcome/header_progress"),InternalLinkDisabler=require("app/ui/welcome/internal_link_disabler"),LearnDashboard=require("app/ui/welcome/learn_dashboard"),utils=require("core/utils"),LearnPreviewTimeline=require("app/ui/welcome/learn_preview_timeline");module.exports=function(a){InternalLinkDisabler.attachTo("#profile_popup"),bootApp(a),WelcomeCardsScribe.attachTo(document,a),FlowNavScribe.attachTo(document,a),PreviewStreamData.attachTo(document,a),ContactImportData.attachTo(document,a),ContactImportScribe.attachTo(document,a),InvitationsScribe.attachTo(document,a),InputWithPlaceholder.attachTo(".welcome-dashboard .js-who-to-follow-search .holding"),InputWithPlaceholder.attachTo(".welcome-dashboard .js-zipcode-search .holding"),HeaderProgress.attachTo(".welcome-step-header",{sectionName:a.sectionName,progressKey:a.progressKey,makeDonePrimary:!0,zeroProgressLabel:a.zeroProgressLabel,progressMax:a.progressMax||undefined,progressActualMax:a.progressActualMax||undefined}),HeaderProgress.attachTo(".js-dashboard",{sectionName:a.sectionName,progressKey:a.progressKey,makeDonePrimary:!1,zeroProgressLabel:a.zeroProgressLabel,progressMax:a.progressMax||undefined,progressActualMax:a.progressActualMax||undefined,minWidth:1});var b={useExcludedIdsPagination:!0,welcomeUserSelector:".js-actionable-user"};userTimelineBoot(utils.merge(a,b),a.timeline_url,"user","user"),LearnDashboard.attachTo(".js-welcome-dashboard",{listSelector:".welcome-dashboard-content",listFooterSelector:".js-below-stream-section",shouldInvite:a.should_invite,canInvite:a.can_invite,deviceEnabled:a.deviceEnabled,deviceFollowIds:a.deviceFollowIds,bootOptions:a}),LearnPreviewTimeline.attachTo(".js-content-main",{showTeacherTweet:a.showTeacherTweet,showIntroText:a.showIntroText}),InfiniteScrollWatcher.attachTo("#timeline",{contentSelector:".stream"}),InviteDialog.attachTo("#invite-dialog",a)}
});
define("app/pages/welcome/import",["module","require","exports","app/boot/welcome","app/ui/who_to_follow/import_loading_dialog","app/ui/who_to_follow/import_services"],function(module, require, exports) {
var welcomeBoot=require("app/boot/welcome"),ImportLoadingDialog=require("app/ui/who_to_follow/import_loading_dialog"),ImportServices=require("app/ui/who_to_follow/import_services");module.exports=function(a){welcomeBoot(a),ImportLoadingDialog.attachTo("#import-loading-dialog",a),ImportServices.attachTo(".find-friends-list",{matchesHref:"/welcome/matches"})}
});
define("app/data/welcome/intro_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function introScribe(){this.scribeVideoClick=function(a,b){this.scribe({component:"video",action:"click"})},this.after("initialize",function(){this.on("uiWelcomeVideoClicked",this.scribeVideoClick)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(introScribe,withScribe)
});
define("app/ui/welcome/flow_nav",["module","require","exports","core/component","app/ui/welcome/with_nav_buttons"],function(module, require, exports) {
function flowNav(){}var defineComponent=require("core/component"),withNavButtons=require("app/ui/welcome/with_nav_buttons");module.exports=defineComponent(flowNav,withNavButtons)
});
define("app/ui/welcome/intro_video",["module","require","exports","core/component"],function(module, require, exports) {
function introVideo(){this.videoClicked=function(){var a=$('<iframe class="intro-video" width="437" height="246" src="https://www.youtube-nocookie.com/embed/69-zan2fNMU?modestbranding=1&rel=0&autoplay=1&autohide=1&showinfo=0&theme=light" frameborder="0" allowfullscreen></iframe>');this.$node.html(a),this.off(this.$node,"click"),this.trigger("uiWelcomeVideoClicked")},this.after("initialize",function(){this.on(this.$node,"click",this.videoClicked)})}var defineComponent=require("core/component");module.exports=defineComponent(introVideo)
});
define("app/ui/welcome/lifeline_device_follow_dialog",["module","require","exports","core/component","app/utils/storage/core","app/ui/with_position","app/ui/with_dialog"],function(module, require, exports) {
function lifelineDeviceFollowDialog(){this.defaultAttrs({deviceFollowIds:[],deviceEnabled:!1}),this.maybeShowAfterFollow=function(a,b){if(this.attr.deviceEnabled)return;b.newState!=="pending"&&this.attr.deviceFollowIds.indexOf(b.userId)!=-1&&!this.storage.getItem("shown")&&(this.storage.setItem("shown",!0),this.trigger("uiLifelineDeviceFollowDialogOpened"),this.open())},this.after("initialize",function(){this.storage=new Storage("LifelineDeviceFollowDialog"),this.on(document,"uiFollowAction",this.maybeShowAfterFollow)})}var defineComponent=require("core/component"),Storage=require("app/utils/storage/core"),withPosition=require("app/ui/with_position"),withDialog=require("app/ui/with_dialog");module.exports=defineComponent(lifelineDeviceFollowDialog,withDialog,withPosition),module.exports.clearLifelineStorage=function(){(new Storage("LifelineDeviceFollowDialog")).clear()}
});
define("app/pages/welcome/intro",["module","require","exports","app/boot/welcome","app/boot/help_pips_enable","app/data/welcome/intro_scribe","app/ui/welcome/flow_nav","app/ui/welcome/intro_video","app/ui/welcome/lifeline_device_follow_dialog"],function(module, require, exports) {
var welcomeBoot=require("app/boot/welcome"),enableHelpPips=require("app/boot/help_pips_enable"),IntroScribe=require("app/data/welcome/intro_scribe"),FlowNav=require("app/ui/welcome/flow_nav"),IntroVideo=require("app/ui/welcome/intro_video"),WelcomeLifelineDeviceFollowDialog=require("app/ui/welcome/lifeline_device_follow_dialog");module.exports=function(a){welcomeBoot(a),IntroScribe.attachTo(document,a),FlowNav.attachTo(".welcome-flow-nav"),IntroVideo.attachTo(".intro-video-container"),WelcomeLifelineDeviceFollowDialog.clearLifelineStorage(),enableHelpPips()}
});
define("app/data/welcome/interests_picker_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function interestsPickerScribe(){this.scribeInterestClick=function(a,b){this.scribe({component:"suggestion_category",action:"click"},{format_version:2,items:[{name:b.interest,position:b.pos}]})},this.scribeCustomInterestSearch=function(a,b){this.scribe({component:"custom_interest_form",action:"search"},{format_version:2,items:[{name:b.interest,item_query:b.query,position:b.pos}],query:b.query})},this.after("initialize",function(){this.on("uiShowWelcomeInterest",this.scribeInterestClick),this.on("uiWelcomeCustomInterestSubmitted",this.scribeCustomInterestSearch)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(interestsPickerScribe,withScribe)
});
define("app/ui/welcome/interests_header_search",["module","require","exports","core/component"],function(module, require, exports) {
function interestsHeaderSearch(){this.defaultAttrs({searchFieldSelector:".js-search-field"}),this.search=function(a){var b=this.select("searchFieldSelector").val();if(b=="")return;this.trigger("uiWelcomeUserSearch",{query:b})},this.after("initialize",function(){this.on("submit",this.search)})}var defineComponent=require("core/component");module.exports=defineComponent(interestsHeaderSearch)
});
define("app/ui/welcome/with_interests",["module","require","exports","app/utils/storage/core"],function(module, require, exports) {
function withInterests(){this.loadSelectedInterests=function(){return this.savedInterestStorage.getItem("interests")||[]},this.saveSelectedInterests=function(a){this.savedInterestStorage.setItem("interests",a)},this.addSelectedInterest=function(a){var b=this.loadSelectedInterests();b.indexOf(a)==-1&&(b.push(a),this.saveSelectedInterests(b))},this.removeSelectedInterest=function(a){var b=this.loadSelectedInterests(),c=b.indexOf(a);c!=-1&&(b.splice(c,1),this.saveSelectedInterests(b))},this.setCustomInterest=function(a,b){var c=this.savedInterestStorage.getItem("custom-interests")||{};c[a]=b,this.savedInterestStorage.setItem("custom-interests",c)},this.getCustomInterest=function(a){return(this.savedInterestStorage.getItem("custom-interests")||{})[a]},this.after("initialize",function(){this.savedInterestStorage=new Storage("withSavedInterests")})}var Storage=require("app/utils/storage/core");module.exports=withInterests
});
define("app/ui/welcome/interests_picker",["module","require","exports","core/component","app/ui/welcome/with_interests"],function(module, require, exports) {
function interestsPicker(){this.defaultAttrs({interestSelector:".interest",visitedClass:"selected"}),this.restoreSelectedInterests=function(){var a=this.loadSelectedInterests();this.select("interestSelector").removeClass(this.attr.visitedClass),a.map(function(a){this.$node.find('.interest[data-interest="'+a+'"]').addClass(this.attr.visitedClass)}.bind(this))},this.clickedOnInterest=function(a,b){var c=$(a.target).closest(".interest"),d=c.data("interest");this.addSelectedInterest(d),this.trigger("uiWelcomeInterestClicked",{interest:d,pos:c.closest("li").index()})},this.after("initialize",function(){this.on("click",{interestSelector:this.clickedOnInterest}),this.on(document,"uiSwiftLoaded uiPageChanged",this.restoreSelectedInterests)})}var defineComponent=require("core/component"),withInterests=require("app/ui/welcome/with_interests");module.exports=defineComponent(interestsPicker,withInterests)
});
define("app/data/welcome/welcome_data",["module","require","exports","core/component","app/data/with_data"],function(module, require, exports) {
function welcomeData(){this.getSulCategoryData=function(a,b){var c=b.slug,d=function(a){a&&a.message&&this.trigger("uiShowMessage",{message:a.message});if(!a.items_html){this.trigger("dataSulCategoryError",{slug:c});return}a.slug=c,this.trigger("dataSulCategorySuccess",a)},e=function(a,b,d){this.trigger("dataSulCategoryError",{slug:c,errorThrown:d})};this.get({url:"/welcome/interests/"+c+"/users",headers:{"X-Phx":!0},eventData:b,success:d.bind(this),error:e.bind(this)})},this.after("initialize",function(){this.on("uiNeedsSulCategoryData",this.getSulCategoryData)})}var defineComponent=require("core/component"),withData=require("app/data/with_data");module.exports=defineComponent(welcomeData,withData)
});
define("app/pages/welcome/interests",["module","require","exports","app/boot/welcome","app/data/welcome/interests_picker_scribe","app/ui/welcome/flow_nav","app/ui/welcome/interests_header_search","app/ui/welcome/interests_picker","app/data/welcome/welcome_data"],function(module, require, exports) {
var welcomeBoot=require("app/boot/welcome"),InterestsPickerScribe=require("app/data/welcome/interests_picker_scribe"),FlowNav=require("app/ui/welcome/flow_nav"),InterestsHeaderSearch=require("app/ui/welcome/interests_header_search"),InterestsPicker=require("app/ui/welcome/interests_picker"),WelcomeData=require("app/data/welcome/welcome_data");module.exports=function(a){welcomeBoot(a),InterestsPickerScribe.attachTo(document,a),WelcomeData.attachTo(document,a),FlowNav.attachTo(".welcome-flow-nav"),InterestsHeaderSearch.attachTo(".js-welcome-search"),InterestsPicker.attachTo(".welcome-preset-interests-picker")}
});
define("app/data/welcome/users_cards",["module","require","exports","core/component","app/data/with_data"],function(module, require, exports) {
function usersCardsData(){this.triggerAt=function(a,b){return function(c){this.trigger(a,b,c)}.bind(this)},this.addScribeData=function(a){a.section_context=this.attr.sectionName,this.attr.sectionCategoryName&&(a.section_category_context=this.attr.sectionCategoryName)},this.moreResults=function(a,b){var c=function(c){c.retry_in?window.setTimeout(function(){var d={type:b.type,cursor:c.cursor,automatic:!0};this.addScribeData(d),this.trigger(a.target,"uiWantsWelcomeMoreResults",d)}.bind(this),c.retry_in*1e3):c.href?this.trigger("uiNavigate",{href:c.href}):this.trigger(a.target,"dataWelcomeMoreResultsSuccess",c)}.bind(this),d={type:b.type,cursor:b.cursor};d.type=="contacts"&&(d.zx=Math.random()),this.addScribeData(d),this.get({url:"/welcome/more_results",data:d,eventData:b,success:c,error:this.triggerAt(a.target,"dataWelcomeMoreResultsFailure")})},this.searchResults=function(a,b){var c={type:"search",query:b.query};this.addScribeData(c),this.get({url:"/welcome/results_card",data:c,eventData:b,success:this.triggerAt(a.target,"dataWelcomeSearchResultsCardSuccess"),error:this.triggerAt(a.target,"dataWelcomeSearchResultsCardFailure")})},this.contactImportResults=function(a,b){var c={type:"contacts"};this.addScribeData(c),this.get({url:"/welcome/results_card",data:c,eventData:b,success:this.triggerAt(a.target,"dataWelcomeContactImportCardSuccess"),error:this.triggerAt(a.target,"dataWelcomeContactImportCardFailure")})},this.similaritiesResults=function(a,b){var c={type:"similarities",id_str:b.userId};this.addScribeData(c),this.get({url:"/welcome/results_card",data:c,eventData:b,success:this.triggerAt(a.target,"dataWelcomeSimilaritiesCardSuccess"),error:this.triggerAt(a.target,"dataWelcomeSimilaritiesCardFailure")})},this.after("initialize",function(){this.on(document,"uiWantsWelcomeMoreResults",this.moreResults),this.on(document,"uiWantsWelcomeSearchResultsCard",this.searchResults),this.on(document,"uiWantsWelcomeContactImportResultsCard",this.contactImportResults),this.on(document,"uiWantsWelcomeSimilaritiesCard",this.similaritiesResults)})}var defineComponent=require("core/component"),withData=require("app/data/with_data");module.exports=defineComponent(usersCardsData,withData)
});
define("app/ui/welcome/import_services_cards",["module","require","exports","core/component","app/ui/with_import_services","app/utils/animate_window_scrolltop"],function(module, require, exports) {
function importServicesCards(){this.defaultAttrs({launchServiceSelector:".js-launch-service"}),this.importSuccess=function(){this.trigger("uiWantsWelcomeContactImportResultsCard")},this.showContactImportCard=function(a,b){var c=$(b.html),d=this.$node.find(".welcome-users-card");d.find(".welcome-results").length==0&&(d.fadeOut(function(){$(this).remove()}),d=$([]));if(d.length)d.find(".welcome-results").slideUp(function(){c.replaceAll(d).find(".js-load-more").click()}.bind(this));else{var e=this.$node.find(".stream-items .welcome-separator");e.length?e.after(c):this.$node.find(".stream-items").children().first().after(c),c.find(".js-load-more").click()}animateWinScrollTop(0)},this.after("initialize",function(){this.on(document,"uiOauthImportSuccess",this.importSuccess),this.on("dataWelcomeContactImportCardSuccess",this.showContactImportCard)})}var defineComponent=require("core/component"),withImportServices=require("app/ui/with_import_services"),animateWinScrollTop=require("app/utils/animate_window_scrolltop");module.exports=defineComponent(importServicesCards,withImportServices)
});
define("app/ui/welcome/with_card_scribe_context",["module","require","exports"],function(module, require, exports) {
function withCardScribeContext(){this.getCardScribeContext=function(a){return{componentName:a.data("component-context"),scribeData:a.data("scribe-context")}}}module.exports=withCardScribeContext
});
define("app/ui/welcome/with_more_results",["module","require","exports","core/compose","core/utils","app/ui/welcome/with_card_scribe_context"],function(module, require, exports) {
function withMoreResults(){compose.mixin(this,[withCardScribeContext]),this.defaultAttrs({loadMoreSelector:".js-load-more"}),this.loadMore=function(a,b){a.preventDefault();var c=$(a.target).closest(".js-load-more"),d=c.closest(".stream-item");if(c.is(".expandable.expanded")){d.find(".welcome-results").slideUp(function(){$(this).remove(),c.addClass("collapsed").removeClass("expanded")});return}d.addClass("loading"),c.attr("data-more-placement")=="replace"&&d.find(".welcome-results").slideUp();var b={type:c.attr("data-more-type"),cursor:c.attr("data-more-cursor"),automatic:a.isTrigger};this.trigger(d,"uiWantsWelcomeMoreResults",utils.merge(b,this.getCardScribeContext(d)))},this.showMoreResults=function(a,b){var c=$(a.target),d=c.find(".welcome-results"),e=c.find(".js-load-more"),f=e.attr("data-more-placement");b.html==""&&(f="restore");var g=function(){b.title&&c.find(".js-welcome-card-title").html(b.title),this.stopLoadingMoreResults(c),b.cursor?(e.attr("data-more-cursor",b.cursor),e.attr("data-more-placement","append")):(e.parent(".welcome-card-pagination").remove(),e.closest(".js-infinite-scroll").removeClass("js-infinite-scroll"))}.bind(this);switch(f){case"expand":d=$("<div>").addClass("welcome-results").hide().appendTo(c),d.html(b.html).slideDown(),e.removeClass("collapsed").addClass("expanded"),g();break;case"restore":d.slideDown(),g();break;case"replace":d.html(b.html).slideDown(),g();break;case"append":var h=$("<div>").hide().append(b.html).appendTo(d).slideDown(function(){$(this).children().first().unwrap(),g()})}},this.couldntLoadMoreResults=function(a,b){var c=$(a.target);this.stopLoadingMoreResults(c)},this.stopLoadingMoreResults=function(a){a.removeClass("loading")},this.maybeInfiniteScroll=function(){var a=this.$node.find(".js-infinite-scroll");a.length&&!a.hasClass("loading")&&a.find(".js-load-more").click()},this.after("initialize",function(){this.on("dataWelcomeMoreResultsSuccess",this.showMoreResults),this.on("dataWelcomeMoreResultsFailure",this.couldntLoadMoreResults),this.on(window,"uiNearTheBottom",this.maybeInfiniteScroll),this.on("click",{loadMoreSelector:this.loadMore})})}var compose=require("core/compose"),utils=require("core/utils"),withCardScribeContext=require("app/ui/welcome/with_card_scribe_context");module.exports=withMoreResults
});
define("app/ui/welcome/with_welcome_search",["module","require","exports","app/utils/animate_window_scrolltop"],function(module, require, exports) {
function withWelcomeSearch(){this.defaultAttrs({welcomeSearchSelector:".js-welcome-search",searchFieldSelector:".js-welcome-search .js-search-field",searchSuggestionsSelector:".welcome-search-suggestions",focusSearchSelector:".js-focus-search"}),this.stopSearchLoading=function(){this.select("welcomeSearchSelector").removeClass("loading")},this.revealWelcomeSearchResults=function(a){a.find(".welcome-results").hide().slideDown()},this.welcomeSearch=function(a){if(a.target.action!="javascript:void(0)")return;a.preventDefault();var b=$(a.target).addClass("loading"),c=b.find(".js-search-field").val().trim();if(c=="")return;var d=this.$node.find(".stream-item").first(),e=d.is(".js-dynamically-added-search")&&d.find(".user-actions.following").length==0,f=e?d:this.$node;this.trigger(f,"uiWelcomeUserSearch",{query:c}),this.trigger(f,"uiWantsWelcomeSearchResultsCard",{query:c})},this.showWelcomeSearchCard=function(a,b){var c=$(a.target),d=$(b.html);d.addClass("js-dynamically-added-search"),this.stopSearchLoading(),animateWinScrollTop(0);if(c.is(".stream-item")){var e=c.find(".welcome-results"),f=function(){c.replaceWith(d),this.revealWelcomeSearchResults(d)}.bind(this);e.length?e.slideUp(f):f()}else{var g=function(){this.$node.find(".stream-items").children().first().after(d),this.revealWelcomeSearchResults(d)}.bind(this),h=this.select("searchSuggestionsSelector");h.is(":visible")?h.fadeOut(g):g()}},this.showWelcomeSearchFailure=function(a,b){this.stopSearchLoading()},this.maybeReshowSuggestions=function(){this.$node.find(".js-dynamically-added-search").length==0&&this.select("searchSuggestionsSelector").fadeIn()},this.focusSearch=function(a){a.preventDefault();var b=$(a.target),c=b.attr("data-placeholder"),d=this.select("searchFieldSelector");c&&d.val(c),d.select(),this.trigger("uiWelcomeFocusedSearch",{placeholder:c,component:b.closest(".footer-message").length?"search_reminder":"search_suggestion"})},this.after("initialize",function(){this.on("dataWelcomeSearchResultsCardSuccess",this.showWelcomeSearchCard),this.on("dataWelcomeSearchResultsCardFailure",this.showWelcomeSearchFailure),this.on("uiWelcomeCardRemoved",this.maybeReshowSuggestions),this.on("click",{focusSearchSelector:this.focusSearch}),this.on("submit",{welcomeSearchSelector:this.welcomeSearch})})}var animateWinScrollTop=require("app/utils/animate_window_scrolltop");module.exports=withWelcomeSearch
});
define("app/ui/welcome/users_cards",["module","require","exports","core/component","app/ui/with_item_actions","app/ui/with_user_actions","app/ui/who_to_follow/with_unmatched_contacts","app/ui/welcome/with_card_scribe_context","app/ui/welcome/with_more_results","app/ui/welcome/with_welcome_search","app/utils/animate_window_scrolltop"],function(module, require, exports) {
function usersCards(){this.defaultAttrs({itemType:"user",genericItemSelector:".account",backToTopLink:".back-to-top",dismissCardLink:".welcome-card .js-dismiss",inviteLink:".js-show-inviting",inviteContactsComponent:"invite_contacts"}),this.backToTop=function(){animateWinScrollTop(0)},this.closeClosestCard=function(a){var b=a.closest(".welcome-card");b.fadeOut(function(){b.remove(),this.trigger("uiWelcomeCardRemoved",this.getCardScribeContext(b))}.bind(this))},this.dismissCard=function(a){a.preventDefault(),this.closeClosestCard($(a.target))},this.showInviting=function(a){a.preventDefault(),this.trigger("uiWelcomeInviteLinkClicked"),this.trigger("uiWelcomeShowInviting")},this.removeInviteCards=function(){this.closeClosestCard(this.select("actionButtonSelector"))},this.after("initialize",function(){this.on(document,"uiInviteFinished",this.removeInviteCards),this.on("click",{backToTopLink:this.backToTop,dismissCardLink:this.dismissCard,inviteLink:this.showInviting})})}var defineComponent=require("core/component"),withItemActions=require("app/ui/with_item_actions"),withUserActions=require("app/ui/with_user_actions"),withUnmatchedContacts=require("app/ui/who_to_follow/with_unmatched_contacts"),withCardScribeContext=require("app/ui/welcome/with_card_scribe_context"),withMoreResults=require("app/ui/welcome/with_more_results"),withWelcomeSearch=require("app/ui/welcome/with_welcome_search"),animateWinScrollTop=require("app/utils/animate_window_scrolltop");module.exports=defineComponent(usersCards,withItemActions,withUserActions,withCardScribeContext,withMoreResults,withUnmatchedContacts,withWelcomeSearch)
});
define("app/pages/welcome/interests_category",["module","require","exports","app/boot/welcome","app/data/welcome/users_cards","app/data/welcome/interests_picker_scribe","app/ui/welcome/import_services_cards","app/ui/welcome/interests_picker","app/ui/welcome/users_cards"],function(module, require, exports) {
var welcomeBoot=require("app/boot/welcome"),UsersCardsData=require("app/data/welcome/users_cards"),InterestsPickerScribe=require("app/data/welcome/interests_picker_scribe"),ImportServicesCards=require("app/ui/welcome/import_services_cards"),InterestsPicker=require("app/ui/welcome/interests_picker"),UsersCards=require("app/ui/welcome/users_cards");module.exports=function(a){welcomeBoot(a),UsersCardsData.attachTo(document,a),ImportServicesCards.attachTo(".welcome-step",a),UsersCards.attachTo(".welcome-step",a),InterestsPickerScribe.attachTo(document,a),InterestsPicker.attachTo(".welcome-interests-picker",{visitedClass:"visited"})}
});
define("app/data/welcome/lifeline_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function lifelineScribe(){this.scribeOpen=function(a,b){this.scribe({component:"device_follow_dialog",action:"impression"})},this.after("initialize",function(){this.on("uiLifelineDeviceFollowDialogOpened",this.scribeOpen)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(lifelineScribe,withScribe)
});
define("app/pages/welcome/lifeline",["module","require","exports","app/boot/welcome","app/data/welcome/lifeline_scribe","app/ui/welcome/lifeline_device_follow_dialog"],function(module, require, exports) {
var welcomeBoot=require("app/boot/welcome"),LifelineScribe=require("app/data/welcome/lifeline_scribe"),WelcomeLifelineDeviceFollowDialog=require("app/ui/welcome/lifeline_device_follow_dialog");module.exports=function(a){welcomeBoot(a),LifelineScribe.attachTo(document,a),WelcomeLifelineDeviceFollowDialog.attachTo("#welcome-lifeline-device-follow-dialog",{deviceFollowIds:a.deviceFollowIds,deviceEnabled:a.deviceEnabled})}
});
define("app/boot/avatar_uploading",["module","require","exports","app/ui/settings/change_photo","app/ui/image_uploader","app/ui/profile_image_monitor","app/ui/dialogs/profile_image_upload_dialog","app/utils/image","core/i18n"],function(module, require, exports) {
function initialize(a){var b={scribeContext:{component:"profile_image_upload"}};!a.forceLegacyAvatarUploading&&image.supportsCropper()?($(a.duckfaceFormSelector).show(),ImageUploader.attachTo(a.duckfacePhotoUploadSelector,{maxSizeInBytes:10485760,fileTooBigMessage:_('Please select a profile image that is less than 10 MB.'),uploadType:a.uploadType,forceHTML5FileUploader:a.forceHTML5FileUploader,eventData:b}),ChangePhoto.attachTo(a.duckfaceControlsSelector,{uploadType:a.uploadType,showDeleteSuccessMessage:a.showDeleteSuccessMessage,eventData:b}),ProfileImageUpload.attachTo("#profile_image_upload_dialog",{uploadType:a.uploadType,showSuccessMessage:a.showUploadSuccessMessage,eventData:b})):($(a.duckfaceFormSelector).remove(),$(a.legacyFormSelector).show(),ImageUploader.attachTo(a.legacyPhotoUploadSelector,{maxSizeInBytes:716800,fileTooBigMessage:_('Please select a profile image that is less than 700 KB.'),uploadType:a.uploadType,forceHTML5FileUploader:a.forceHTML5FileUploader,eventData:b})),ProfileImageMonitor.attachTo("#profile-image-controls",{eventData:{scribeContext:{component:"form"}}})}var ChangePhoto=require("app/ui/settings/change_photo"),ImageUploader=require("app/ui/image_uploader"),ProfileImageMonitor=require("app/ui/profile_image_monitor"),ProfileImageUpload=require("app/ui/dialogs/profile_image_upload_dialog"),image=require("app/utils/image"),_=require("core/i18n");module.exports=initialize
});
define("app/ui/alert_banner",["module","require","exports","core/component"],function(module, require, exports) {
function alertBanner(){this.defaultAttrs({closeSelector:"#settings-alert-close",bannerSelector:"h4,p",listenToShow:!0}),this.showBanner=function(a,b){$(window).scrollTop(0),this.select("bannerSelector").remove(),this.$node.append($("<h4>").text(b.message)),this.$node.show()},this.closeBanner=function(){this.select("bannerSelector").remove(),this.$node.hide()},this.after("initialize",function(){this.attr.listenToShow&&this.on(document,"uiAlertBanner",this.showBanner),this.on(document,"uiAlertBannerClose",this.closeBanner),this.on(this.attr.closeSelector,"click",this.closeBanner)})}var defineComponent=require("core/component"),AlertBanner=defineComponent(alertBanner);module.exports=AlertBanner
});
define("app/ui/welcome/profile_flow_nav",["module","require","exports","core/component","app/ui/welcome/with_nav_buttons"],function(module, require, exports) {
function profileFlowNav(){this.submit=function(a){a.preventDefault(),a.stopImmediatePropagation(),this.trigger("uiSubmitWelcomeProfileForm")},this.after("initialize",function(){this.on("click",{nextButtonSelector:this.submit})})}var defineComponent=require("core/component"),withNavButtons=require("app/ui/welcome/with_nav_buttons");module.exports=defineComponent(profileFlowNav,withNavButtons)
});
define("app/ui/welcome/profile_form",["module","require","exports","core/component"],function(module, require, exports) {
function profileForm(){this.defaultAttrs({bioSelector:"textarea",bioCountSelector:".js-bio-count",textInputSelector:"input[type=text]",profileFormSelector:".welcome-profile-form",previewSelector:"#avatar_preview"}),this.submit=function(a){this.select("profileFormSelector").submit()},this.updateBioCounter=function(){var a=this.select("bioSelector").val();this.select("bioCountSelector").text(a.length),a.length&&this.makeProgress()},this.enableNextBtn=function(a){$(a.target).val().length&&this.trigger("uiSetWelcomeNextButton",{primary:!0})},this.makeProgress=function(){this.trigger("uiMadeProgress")},this.showThumbnail=function(a,b){this.select("previewSelector").attr("src",b.imageData)},this.after("initialize",function(){this.updateBioCounter(),this.on(document,"uiSubmitWelcomeProfileForm",this.submit),this.on("keyup change",{bioSelector:this.updateBioCounter,textInputSelector:this.enableNextBtn}),this.on("change",{bioSelector:this.makeProgress,textInputSelector:this.makeProgress}),this.on(document,"uiImageUploadSuccess",this.makeProgress),this.on(document,"uiImagePickerFileReady",this.makeProgress),this.on(document,"uiTweetBoxShowPreview",this.showThumbnail)})}var defineComponent=require("core/component");module.exports=defineComponent(profileForm)
});
define("app/pages/welcome/profile",["module","require","exports","app/boot/avatar_uploading","app/boot/welcome","app/data/settings","app/ui/alert_banner","app/ui/welcome/profile_flow_nav","app/ui/welcome/profile_form"],function(module, require, exports) {
var avatarUploadingBoot=require("app/boot/avatar_uploading"),welcomeBoot=require("app/boot/welcome"),SettingsData=require("app/data/settings"),AlertBanner=require("app/ui/alert_banner"),ProfileFlowNav=require("app/ui/welcome/profile_flow_nav"),ProfileForm=require("app/ui/welcome/profile_form");module.exports=function(a){welcomeBoot(a),SettingsData.attachTo(document,a),avatarUploadingBoot({forceLegacyAvatarUploading:a.forceLegacyAvatarUploading,forceHTML5FileUploader:a.forceHTML5FileUploader,showUploadSuccessMessage:!1,showDeleteSuccessMessage:!1,duckfaceFormSelector:".duckface-upload-btns",duckfacePhotoUploadSelector:".duckface-upload-btns .photo-selector",duckfaceControlsSelector:".duckface-upload-btns",legacyFormSelector:".legacy-upload-btns",legacyPhotoUploadSelector:".legacy-upload-btns .photo-selector",uploadType:"avatar"}),AlertBanner.attachTo("#settings-alert-box"),ProfileFlowNav.attachTo(".welcome-step-header"),ProfileForm.attachTo(".welcome-step-content"),ProfileFlowNav.attachTo(".js-dashboard"),ProfileForm.attachTo(".js-welcome-dashboard",{profileFormSelector:".js-profile-form"})}
});
define("app/pages/welcome/welcome_typeahead",["module","require","exports","core/utils","app/data/user_info","app/ui/typeahead/typeahead_dropdown","app/ui/typeahead/typeahead_input"],function(module, require, exports) {
var utils=require("core/utils"),userInfo=require("app/data/user_info"),TypeaheadDropdown=require("app/ui/typeahead/typeahead_dropdown"),TypeaheadInput=require("app/ui/typeahead/typeahead_input");module.exports=function(a){var b=[["contextHelpers",["contextHelpers"]],["recentSearches",["recentSearches"]],["savedSearches",["savedSearches"]],["topics",["topics"]],["accounts",["accounts"]]],c=userInfo.getExperimentGroup("web_welcome_autocomplete_1089");c&&c.bucket=="autocomplete"&&(TypeaheadInput.attachTo(".js-who-to-follow-search"),TypeaheadDropdown.attachTo(".js-who-to-follow-search",{datasourceRenders:b,accountsShortcutShow:!0,autocompleteAccounts:!1,deciders:utils.merge(a.typeaheadData,{showSocialContext:a.typeaheadData.showSearchAccountSocialContext}),eventData:{scribeContext:{component:"user_search_form",element:"typeahead"}}}))}
});
define("app/pages/welcome/recommendations",["module","require","exports","app/boot/welcome","app/pages/welcome/welcome_typeahead"],function(module, require, exports) {
var welcomeBoot=require("app/boot/welcome"),welcomeTypeahead=require("app/pages/welcome/welcome_typeahead");module.exports=function(a){welcomeBoot(a),welcomeTypeahead(a)}
});