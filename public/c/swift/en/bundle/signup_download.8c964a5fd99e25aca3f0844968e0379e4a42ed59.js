define("app/ui/signup_download/next_and_skip_buttons",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function nextAndSkipButtons(){this.defaultAttrs({nextButton:".next",skipButton:".skip",tryAgainButton:".try_again",tryDifferentNumberButton:".try_different_number",continueOnPendingButton:".continue"}),this.nextClicked=function(a,b){this.scribe({component:"next_button",action:"click"})},this.skipClicked=function(a,b){this.scribe({component:"skip_button",action:"click"})},this.continueOnPending=function(a,b){this.scribe({component:"continue",action:"click"})},this.tryAgainClicked=function(a,b){this.scribe({component:"try_again",action:"click"})},this.tryDifferentNumber=function(a,b){this.scribe({component:"try_different_number",action:"click"})},this.after("initialize",function(){this.on("click",{nextButton:this.nextClicked,skipButton:this.skipClicked,tryAgainButton:this.tryAgainClicked,tryDifferentNumberButton:this.tryDifferentNumber,continueOnPendingButton:this.continueOnPending})})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe"),NextAndSkipButtons=defineComponent(nextAndSkipButtons,withScribe);module.exports=NextAndSkipButtons
});
define("app/ui/signup_download/us_phone_number_checker",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function usPhoneNumberChecker(){var a="";this.recordLast=function(b,c){a=$(b.target).val()},this.uiFieldChanged=function(b,c){var d=$(b.target).val(),e="";if(a===d)return;d=d.replace(/\D/g,""),d=d.replace(/^1/,""),d.length>10&&(d=d.substring(0,10)),d.length>6?e=d.substring(0,3)+"-"+d.substring(3,6)+"-"+d.substring(6,10):d.length>3?e=d.substring(0,3)+"-"+d.substring(3,10):e=d,$(b.target).val(e)},this.after("initialize",function(){this.on("keydown",this.recordLast),this.on("keyup",this.uiFieldChanged)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe"),USPhoneNumberChecker=defineComponent(usPhoneNumberChecker,withScribe);module.exports=USPhoneNumberChecker
});
define("app/pages/signup_download/download",["module","require","exports","app/boot/common","app/ui/signup_download/next_and_skip_buttons","app/ui/signup_download/us_phone_number_checker"],function(module, require, exports) {
var boot=require("app/boot/common"),NextAndSkipButtons=require("app/ui/signup_download/next_and_skip_buttons"),USPhoneNumberChecker=require("app/ui/signup_download/us_phone_number_checker");module.exports=function(a){boot(a),NextAndSkipButtons.attachTo(".content-placeholder",a),USPhoneNumberChecker.attachTo("#device_address",a)}
});
define("app/ui/signup_download/signup_phone_verify_form",["module","require","exports","core/component","app/data/with_data"],function(module, require, exports) {
function signupPhoneVerifyForm(){var a=(new Date).getTime(),b=[];this.defaultAttrs({pollUrl:"/devices/verify",pollInterval:5e3,awaitingVerificationSelector:"input[name=awaiting_verification]"}),this.checkDeviceStatus=function(){var c=(new Date).getTime(),d=Math.round((c-a)/1e3);d>65&&(window.location="/welcome"),d=Math.floor(d/10)*10;var e={device_id:this.attr.deviceId,miracle_gro:!0};b[d]===undefined&&(e.waited=d,b[d]=!0),this.get({url:this.attr.pollUrl,data:e,cache:!1,success:this.deviceStatusCheckSuccess.bind(this),complete:this.deviceStatusCheckComplete.bind(this)})},this.deviceStatusCheckSuccess=function(a){if(this.select("awaitingVerificationSelector").val()!="true")return;if(!a.verified&&!a.error)return;window.location.reload()},this.deviceStatusCheckComplete=function(){setTimeout(this.checkDeviceStatus.bind(this),this.attr.pollInterval)},this.after("initialize",function(){this.checkDeviceStatus()})}var defineComponent=require("core/component"),withData=require("app/data/with_data"),SignupPhoneVerifyForm=defineComponent(signupPhoneVerifyForm,withData);module.exports=SignupPhoneVerifyForm
});
define("app/pages/signup_download/verify",["module","require","exports","app/boot/common","app/ui/signup_download/signup_phone_verify_form","app/ui/signup_download/next_and_skip_buttons"],function(module, require, exports) {
var boot=require("app/boot/common"),SignupPhoneVerifyForm=require("app/ui/signup_download/signup_phone_verify_form"),NextAndSkipButtons=require("app/ui/signup_download/next_and_skip_buttons");module.exports=function(a){boot(a),SignupPhoneVerifyForm.attachTo("#sms-phone-verify-form",{deviceId:a.phoneDeviceId}),NextAndSkipButtons.attachTo(".content-placeholder",a)}
});